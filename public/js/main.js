
let formElement = document.querySelector('form');
let inputQuery = document.querySelector('#inputQuery');
let inputDiet = document.querySelector('#inputDiet');
let inputCuisine = document.querySelector('#inputCuisine');
let url='http://localhost:3000/recipe?apiKey=28de1c31664a460c8c095de681c38365';

let heading = document.querySelector('#heading');
let msg1 = document.querySelector('#msg1');
let msg2 = document.querySelector('#msg2');



formElement.addEventListener('submit',(event)=>{
    event.preventDefault();
    
    inputQuery.value && (url+=`&query=${inputQuery.value}`);
    // cuisine 
    inputDiet.value && (url+=`&diet=${inputDiet.value}`);
    // query 
    inputCuisine.value && (url+=`&cuisine=${inputCuisine.value}`);

    fetch(url).then(response => response.json().then(data=>{
        console.log(url);
        console.log("Error is ",data);
        if (data.error){
            msg1.textContent = data.error;
            msg2.src = "data:image/jpeg;base64,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";
            console.log(msg1.textContent);
            console.log(msg2.src);
            
        } else {
            msg1.textContent = data.results[0].title;
            msg2.src = data.results[0].image;
        }
        url='http://localhost:3000/recipe?apiKey=28de1c31664a460c8c095de681c38365';
        inputCuisine.value = inputDiet.value = inputQuery.value = '';
    }))
})